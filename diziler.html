<!DOCTYPE html>
<html data-theme="dark" lang="tr">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta http-equiv="Permissions-Policy" content="autoplay=(self), encrypted-media=(self), accelerometer=(self), gyroscope=(self), picture-in-picture=(self), clipboard-write=(self), web-share=(self)"/>
    <meta name="referrer" content="strict-origin-when-cross-origin"/>
    <meta name="description" content="En popÃ¼ler dizileri keÅŸfedin. Trend diziler, popÃ¼ler iÃ§erikler ve en iyi TV yapÄ±mlarÄ±nÄ± Cine Search'te bulun."/>
    <meta name="keywords" content="dizi, tv, televizyon, streaming, popÃ¼ler diziler, trend diziler"/>
    <meta name="robots" content="index, follow"/>
    <link rel="canonical" href="https://cinesearch.fetihakgun.com/diziler.html"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Cine Search - Diziler"/>
    <meta property="og:description" content="En popÃ¼ler dizileri keÅŸfedin. Trend diziler, popÃ¼ler iÃ§erikler ve en iyi TV yapÄ±mlarÄ±nÄ± bulun."/>
    <meta property="og:url" content="https://cinesearch.fetihakgun.com/diziler.html"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Cine Search - Diziler"/>
    <meta name="twitter:description" content="En popÃ¼ler dizileri keÅŸfedin. Trend diziler, popÃ¼ler iÃ§erikler ve en iyi TV yapÄ±mlarÄ±nÄ± bulun."/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"/>
    <link href="/main.css" rel="stylesheet" type="text/css">
    <script src="/app.js" defer></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "Diziler",
      "url": "https://cinesearch.fetihakgun.com/diziler.html",
      "description": "En popÃ¼ler dizileri keÅŸfedin"
    }
    </script>
    <title>Cine Search - Diziler</title>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="mainNav">
        <div class="nav-container">
            <a class="navbar-brand" href="/index.html">
                <span class="brand-text">Cine Search</span>
            </a>
            <div class="navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/index.html" data-translate="movies">Filmler</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/diziler.html" data-translate="series">Diziler</a>
                    </li>
                </ul>
                <div class="nav-controls">
                    <form action="/search.html" class="search-form">
                        <input class="form-control" type="search" name="query" data-translate-placeholder="searchSeriesPlaceholder" placeholder="Dizi Ara" aria-label="Search"/>
                        <input type="hidden" name="page" value="1"/>
                        <input type="hidden" name="type" value="tv"/>
                        <button class="btn btn-outline-primary" type="submit" data-translate="search">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                    <button class="theme-toggle" type="button" title="Toggle Theme">
                        <i class="fas fa-moon theme-icon"></i>
                    </button>
                    <div class="language-selector">
                        <select>
                            <option value="tr">TR</option>
                            <option value="en">EN</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Bottom Navigation -->
    <div class="mobile-bottom-nav">
        <div class="mobile-bottom-nav-items">
            <a href="/index.html" class="mobile-bottom-nav-item">
                <i class="fas fa-home"></i>
                <span data-translate="movies">Filmler</span>
            </a>
            <a href="/diziler.html" class="mobile-bottom-nav-item active">
                <i class="fas fa-tv"></i>
                <span data-translate="series">Diziler</span>
            </a>
            <button class="mobile-bottom-nav-item mobile-nav-control" type="button" id="mobileSearchButton">
                <i class="fas fa-search"></i>
                <span data-translate="search">Ara</span>
            </button>
            <button class="mobile-bottom-nav-item mobile-nav-control" type="button" id="mobileThemeToggle" title="Toggle Theme">
                <i class="fas fa-moon theme-icon"></i>
                <span data-translate="theme">Tema</span>
            </button>
            <div class="mobile-bottom-nav-item mobile-nav-control mobile-language-item">
                <div class="mobile-language-button" id="mobileLanguageButton">
                    <span id="mobileLanguageText">TR</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="mobile-language-dropdown" id="mobileLanguageDropdown">
                    <div class="mobile-language-option" data-lang="tr">TR</div>
                    <div class="mobile-language-option" data-lang="en">EN</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Search Modal -->
    <div class="mobile-search-modal" id="mobileSearchModal">
        <div class="mobile-search-overlay" id="mobileSearchOverlay"></div>
        <div class="mobile-search-container">
            <div class="mobile-search-header">
                <h3 data-translate="search">Ara</h3>
                <button class="mobile-search-close" id="mobileSearchClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="mobile-search-form" id="mobileSearchForm">
                <div class="mobile-search-input-wrapper">
                    <i class="fas fa-search"></i>
                    <input type="search" class="mobile-search-input" id="mobileSearchInput" data-translate-placeholder="searchPlaceholder" placeholder="Film Ara" autofocus/>
                </div>
                <div class="mobile-search-type-selector">
                    <label class="mobile-search-type-option">
                        <input type="radio" name="searchType" value="movie" checked/>
                        <span data-translate="movies">Filmler</span>
                    </label>
                    <label class="mobile-search-type-option">
                        <input type="radio" name="searchType" value="tv"/>
                        <span data-translate="series">Diziler</span>
                    </label>
                </div>
                <button type="submit" class="mobile-search-submit">
                    <i class="fas fa-search"></i>
                    <span data-translate="search">Ara</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="hero-section" id="heroSection">
        <div class="hero-backdrop" id="heroBackdrop"></div>
        <div class="hero-content">
            <h1 class="hero-title" id="heroTitle">YÃ¼kleniyor...</h1>
            <p class="hero-description" id="heroDescription"></p>
            <div class="hero-buttons">
                <button class="btn-hero btn-hero-primary" onclick="playHeroVideo()">
                    <i class="fas fa-play"></i> Oynat
                </button>
                <button class="btn-hero btn-hero-secondary" onclick="showHeroInfo()">
                    <i class="fas fa-info-circle"></i> Daha Fazla Bilgi
                </button>
            </div>
        </div>
    </div>

    <!-- Content Sections -->
    <div class="content-section">
        <!-- Trending TV -->
        <div class="content-row">
            <h2 class="row-title" data-translate="trending">Trend Diziler</h2>
            <div class="movies-row" id="trendingTV">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>

        <!-- Popular TV -->
        <div class="content-row">
            <h2 class="row-title" data-translate="popular">PopÃ¼ler Diziler</h2>
            <div class="movies-row" id="popularTV">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>

        <!-- Top Rated TV -->
        <div class="content-row">
            <h2 class="row-title" data-translate="topRated">En Ä°yi Diziler</h2>
            <div class="movies-row" id="topRatedTV">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>

        <!-- On The Air TV -->
        <div class="content-row">
            <h2 class="row-title" data-translate="onTheAir">YayÄ±nda Olan Diziler</h2>
            <div class="movies-row" id="onTheAirTV">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>

        <!-- Airing Today TV -->
        <div class="content-row">
            <h2 class="row-title" data-translate="airingToday">BugÃ¼n YayÄ±nlanan Diziler</h2>
            <div class="movies-row" id="airingTodayTV">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>

        <!-- Popular TV Grid -->
        <div class="content-row">
            <h2 class="row-title" data-translate="allPopular">TÃ¼m PopÃ¼ler Diziler</h2>
            <div class="movies-grid" id="popularTVGrid">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
            <div class="f-pagination">
                <nav aria-label="Page">
                    <ul class="pagination" id="pagination"></ul>
                </nav>
            </div>
        </div>
    </div>

    <script>
        const API_KEY = '1b44088d28f43962ed16e614f60cbbd1';
        const BASE_URL = 'https://api.themoviedb.org/3';
        const IMAGE_BASE = 'https://image.tmdb.org/t/p/w500';
        const BACKDROP_BASE = 'https://image.tmdb.org/t/p/original';
        
        function createSlug(title) {
            if (!title) return '';
            return title
                .toLowerCase()
                .replace(/ÄŸ/g, 'g')
                .replace(/Ã¼/g, 'u')
                .replace(/ÅŸ/g, 's')
                .replace(/Ä±/g, 'i')
                .replace(/Ã¶/g, 'o')
                .replace(/Ã§/g, 'c')
                .replace(/[^a-z0-9]+/g, '-')
                .replace(/^-+|-+$/g, '');
        }
        
        function createDetailUrl(id, type, title) {
            const slug = createSlug(title);
            const typePath = type === 'movie' ? 'film' : 'dizi';
            return `${typePath}/${id}${slug ? '-' + slug : ''}`;
        }
        
        let currentHeroTV = null;
        
        // Get API language from language manager
        function getApiLanguage() {
            return window.languageManager ? window.languageManager.getApiLanguage() : 'tr-TR';
        }
        
        // Reload page content when language changes
        function reloadPageContent(lang, apiLang) {
            loadHeroTV();
            loadTVRow('trending/tv/day', 'trendingTV', 'Trending');
            loadTVRow('tv/popular', 'popularTV', 'Popular');
            loadTVRow('tv/top_rated', 'topRatedTV', 'Top Rated');
            loadTVRow('tv/on_the_air', 'onTheAirTV', 'On The Air');
            loadTVRow('tv/airing_today', 'airingTodayTV', 'Airing Today');
            loadPopularTVGrid();
        }

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('mainNav');
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle

        // Fetch trending TV for hero
        async function loadHeroTV() {
            try {
                const apiLang = getApiLanguage();
                const response = await fetch(`${BASE_URL}/trending/tv/day?api_key=${API_KEY}&language=${apiLang}`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                if (data.results && data.results.length > 0) {
                    const randomTV = data.results[Math.floor(Math.random() * data.results.length)];
                    currentHeroTV = randomTV;
                    displayHeroTV(randomTV);
                } else {
                    const titleEl = document.getElementById('heroTitle');
                    if (titleEl) {
                        titleEl.textContent = 'Dizi bulunamadÄ±';
                    }
                }
            } catch (error) {
                console.error('Hero dizi yÃ¼klenemedi:', error);
                const titleEl = document.getElementById('heroTitle');
                if (titleEl) {
                    titleEl.textContent = 'YÃ¼kleme hatasÄ±';
                }
            }
        }

        function displayHeroTV(tv) {
            const backdrop = document.getElementById('heroBackdrop');
            const titleEl = document.getElementById('heroTitle');
            const descriptionEl = document.getElementById('heroDescription');
            
            if (!backdrop || !titleEl || !descriptionEl) {
                console.error('Hero elements not found');
                return;
            }
            
            if (tv.backdrop_path) {
                backdrop.style.backgroundImage = `url(${BACKDROP_BASE}${tv.backdrop_path})`;
            }
            
            titleEl.textContent = tv.name || 'Dizi';
            descriptionEl.textContent = tv.overview || 'AÃ§Ä±klama bulunamadÄ±.';
        }

        function playHeroVideo() {
            if (currentHeroTV) {
                const tvName = currentHeroTV.name || 'Dizi';
                window.location.href = `/dizi/${currentHeroTV.id}${createSlug(tvName) ? '-' + createSlug(tvName) : ''}`;
            }
        }

        function showHeroInfo() {
            if (currentHeroTV) {
                const tvName = currentHeroTV.name || 'Dizi';
                window.location.href = `/dizi/${currentHeroTV.id}${createSlug(tvName) ? '-' + createSlug(tvName) : ''}`;
            }
        }

        // Load TV rows
        async function loadTVRow(endpoint, containerId, title) {
            try {
                const apiLang = getApiLanguage();
                const response = await fetch(`${BASE_URL}/${endpoint}?api_key=${API_KEY}&language=${apiLang}&page=1`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                const container = document.getElementById(containerId);
                
                if (!container) {
                    console.error(`Container ${containerId} not found`);
                    return;
                }
                
                if (data.results && data.results.length > 0) {
                    container.innerHTML = '';
                    data.results.slice(0, 20).forEach((tv, index) => {
                        const card = createTVCard(tv);
                        container.appendChild(card);
                        setTimeout(() => {
                            card.classList.add('visible');
                        }, index * 50);
                    });
                } else {
                    container.innerHTML = '<p class="text-center text-muted">Dizi bulunamadÄ±.</p>';
                }
            } catch (error) {
                console.error(`${title} yÃ¼klenemedi:`, error);
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = '<p class="text-center text-muted">YÃ¼kleme hatasÄ±.</p>';
                }
            }
        }

        function createTVCard(tv) {
            const card = document.createElement('a');
            card.className = 'movie-card';
            const title = tv.name || 'Ä°simsiz';
            card.href = '/' + createDetailUrl(tv.id, 'tv', title);
            
            const poster = tv.poster_path 
                ? `${IMAGE_BASE}${tv.poster_path}`
                : '';
            
            const rating = (tv.vote_average / 2).toFixed(1);
            
            card.innerHTML = `
                <img src="${poster}" alt="${title}" loading="lazy" onerror="this.onerror=null; this.style.background='linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%)'; this.style.display='flex'; this.style.alignItems='center'; this.style.justifyContent='center'; this.innerHTML='<span style=\\'font-size:64px;opacity:0.7\\'>ðŸŽ¬</span>'">
                <div class="movie-card-overlay">
                    <div class="movie-card-title">${title}</div>
                    <div class="movie-card-rating">
                        <i class="fas fa-star"></i>
                        <span>${rating}</span>
                    </div>
                </div>
            `;
            
            // If no poster path, set placeholder manually
            if (!tv.poster_path) {
                const img = card.querySelector('img');
                img.style.background = 'linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%)';
                img.style.display = 'flex';
                img.style.alignItems = 'center';
                img.style.justifyContent = 'center';
                img.innerHTML = '<span style="font-size:64px;opacity:0.7">ðŸŽ¬</span>';
            }
            
            return card;
        }

        // Load popular TV grid
        async function loadPopularTVGrid(page = 1) {
            try {
                const apiLang = getApiLanguage();
                const response = await fetch(`${BASE_URL}/tv/popular?api_key=${API_KEY}&language=${apiLang}&page=${page}`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                const container = document.getElementById('popularTVGrid');
                
                if (!container) {
                    console.error('Container popularTVGrid not found');
                    return;
                }
                
                if (data.results && data.results.length > 0) {
                    container.innerHTML = '';
                    data.results.forEach((tv, index) => {
                        const card = document.createElement('a');
                        card.className = 'movie-card-large';
                        card.href = '/' + createDetailUrl(tv.id, 'tv', tv.name);
                        
                        const poster = tv.poster_path 
                            ? `${IMAGE_BASE}${tv.poster_path}`
                            : 'https://placehold.co/300x450?text=Poster+Yok';
                        
                        card.innerHTML = `
                            <img src="${poster}" alt="${tv.name}" loading="lazy">
                            <div class="movie-card-overlay">
                                <div class="movie-card-title">${tv.name}</div>
                                <div class="movie-card-description">${tv.overview || 'AÃ§Ä±klama bulunamadÄ±.'}</div>
                                <div class="movie-card-rating">
                                    <i class="fas fa-star"></i>
                                    <span>${(tv.vote_average / 2).toFixed(1)}</span>
                                </div>
                            </div>
                        `;
                        container.appendChild(card);
                        // Trigger animation with delay
                        setTimeout(() => {
                            card.classList.add('visible');
                        }, index * 50);
                    });
                    
                    // Pagination
                    updatePagination(page, data.total_pages);
                }
            } catch (error) {
                console.error('PopÃ¼ler diziler yÃ¼klenemedi:', error);
            }
        }

        function updatePagination(currentPage, totalPages) {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';
            
            const maxPages = Math.min(totalPages, 500);
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(maxPages, currentPage + 2);
            
            // First page
            if (startPage > 1) {
                const li = document.createElement('li');
                li.className = 'page-item';
                const firstText = window.languageManager ? window.languageManager.t('first') : 'Ä°lk';
                li.innerHTML = `<a class="page-link" href="#" onclick="loadPopularTVGrid(1); return false;">${firstText}</a>`;
                pagination.appendChild(li);
            }
            
            // Page numbers
            for (let i = startPage; i <= endPage; i++) {
                const li = document.createElement('li');
                li.className = `page-item ${i === currentPage ? 'active' : ''}`;
                li.innerHTML = `<a class="page-link" href="#" onclick="loadPopularTVGrid(${i}); return false;">${i}</a>`;
                pagination.appendChild(li);
            }
            
            // Last page
            if (endPage < maxPages) {
                const li = document.createElement('li');
                li.className = 'page-item';
                const lastText = window.languageManager ? window.languageManager.t('last') : 'Son';
                li.innerHTML = `<a class="page-link" href="#" onclick="loadPopularTVGrid(${maxPages}); return false;">${lastText}</a>`;
                pagination.appendChild(li);
            }
        }

        // Trigger scroll animations after content loads
        function triggerScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

            // Observe content rows
            document.querySelectorAll('.content-row').forEach(row => {
                observer.observe(row);
            });
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            loadHeroTV();
            loadTVRow('trending/tv/day', 'trendingTV', 'Trending');
            loadTVRow('tv/popular', 'popularTV', 'Popular');
            loadTVRow('tv/top_rated', 'topRatedTV', 'Top Rated');
            loadTVRow('tv/on_the_air', 'onTheAirTV', 'On The Air');
            loadTVRow('tv/airing_today', 'airingTodayTV', 'Airing Today');
            loadPopularTVGrid();
            
            // Trigger scroll animations
            setTimeout(triggerScrollAnimations, 500);
        });
    </script>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-left">
                <p class="footer-copyright">Â© 2025 Cine Search. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
            </div>
            <div class="footer-right">
                <span class="footer-developer">Developed by Fetih</span>
                <a href="https://github.com/FetihAkgun" target="_blank" rel="noopener noreferrer" class="footer-github">
                    <i class="fab fa-github"></i>
                    <span>GitHub</span>
                </a>
            </div>
        </div>
    </footer>
</body>
</html>
